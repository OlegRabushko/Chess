{"version":3,"sources":["components/body/replays/replays.module.scss","components/header/header.module.scss","components/footer/footer.module.scss","components/body/start-window/start-window.module.scss","components/body/game/game.module.scss","components/interfaces-enums.ts","components/header/header.tsx","components/body/game/chess-field/tile.tsx","indexedDb/indexedDb.ts","components/body/game/rules/rules.ts","api/server.ts","redux/actions.ts","components/body/game/chess-field/chessboard-state.tsx","api/webSocket.ts","components/body/game/helpers/helper.ts","components/body/game/chess-field/chess-field-helper.ts","components/body/game/chess-field/chess-field.tsx","components/body/game/player-field/playerField.tsx","components/body/game/helpers/winner.tsx","components/body/game/helpers/preloader.tsx","components/body/game/game.tsx","components/body/replays/replays.tsx","components/body/start-window/change-name-modal.tsx","components/body/start-window/modal-window.tsx","components/body/start-window/player-element.tsx","components/body/start-window/start-window.tsx","components/body/body.tsx","components/footer/footer.tsx","App.tsx","reportWebVitals.ts","redux/reducers.ts","redux/index.ts","index.tsx","components/body/game/chess-field/chess-field.module.scss"],"names":["module","exports","TeamType","PieceType","Header","className","s","header__container","logo__img","logo__text","Tile","number","image","position","size","black__field","style","backgroundImage","width","figure__img","white__field","db","Rules","x","y","boardState","find","p","team","px","py","type","KING","num","direction","OUR","PAWN","enPassant","cellColor","BISHOP","this","tileIsOccupied","QUEEN","move","point","i","KNIGHT","ROOK","row","tileIsOccupiedByOpponent","tileIsOccupiedForPawns","getPlayers","a","fetch","response","json","player","addNewPlayer","body","method","headers","JSON","stringify","deletePlayer","id","getTurnQueue","count","updateTurnQueue","state","addPlayer","name","localStorage","getItem","Date","now","axios","post","SET_GAME","SET_ONLINE_PLAYERS","SET_MOVES_ONE","SET_MOVES_TWO","ADD_MOVE_ONE","ADD_MOVE_TWO","addMoveTwo","moveData","payload","setOnlineGame","setOnlinePlayers","setMovesOne","setMovesTwo","startingBoardState","OPPONENT","cloneBoardState","map","el","socket","WebSocket","sendMessage","message","event","send","sendQueue","queue","data","dbReq","window","indexedDB","open","onupgradeneeded","target","result","createObjectStore","autoIncrement","onerror","errorCode","console","log","onsuccess","getSavedGameIndexedDB","setGameInfo","transaction","tx","objectStore","getAll","savedGame","gamers","time","movesCount","winner","savingGame","add","gameOver","setWin","setStart","boardActivator","setTimer","setTimeout","current","pointerEvents","searchActualPlayer","playerName","actualPlayer","numbers","letters","movesController","moveRecord","urlEl","onlineGame","dispatch","checkUpdatedMoves","moves","figure","url","sendDeskInfo","one","times","figures","two","ChessField","setActiveForBoard","setTurnQueue","setPieces","setPlayer","pieces","win","start","checkTurnQueue","useState","activePiece","setActivePiece","gridX","setGridX","gridY","setGridY","piecePosition","setPiecePosition","boardRef","useRef","rules","board","coordinate","expression","Math","floor","useSelector","game","useDispatch","allFigures","document","querySelectorAll","useEffect","onmousemove","checker","forEach","elem","split","coordinates","innerHTML","Number","idEl","findEl","moveDesk","setUpdatePieces","reduce","results","piece","abs","push","specialForOnlineGame","specialForOfflineGame","prev","combinedLogicForCurrentPiece","isEnPassantMove","validMode","currentPiece","setUpdatePiecesForEnPassantMove","pawnTransformation","removeProperty","dropPiece","e","chessboard","clientX","offsetLeft","clientY","offsetTop","zIndex","isValidMove","j","undefined","chess__container","chess__letters","chess__letter","chess__inner","chess__numbers","chess__number","ref","onMouseMove","minX","minY","maxX","offsetWidth","maxY","offsetHeight","left","top","onMouseDown","element","classList","contains","onMouseUp","chess__grid","chess__numbers__2","chess__number__2","PlayerField","checkWinner","checkMove","checkLoss","colorOne","setColorOne","colorTwo","setColorTwo","players","getColor","player__field","win__ico","src","alt","player__ava","background","moveHand__img","player__name","player__board","part__one","filter","part__two","move__info","part__three","Winner","win__window","Preloader","waitTime","preloader__window","text","preloader","to","lobby__btn","Game","setMovesCount","waiting","setWaiting","loss","setLoss","setTime","setUpdatedMoves","timer","namePlayerOne","setNamePlayerOne","namePlayerTwo","setNamePlayerTwo","setActualPlayer","onlinePlayers","playersReady","refreshGame","onopen","onmessage","parse","length","setSocket","checkPlayers","setInterval","sendPlayer","clearInterval","startMatch","getOnlinePlayers","onclick","asyncEffect","interval","hours","minutes","seconds","admitLoss","sendLoss","onClick","replays__btn","loss__btn","start__btn","game__container","Replays","gameInfo","getInfoIndexedDb","repeats__container","repeats__block","chess__info","name__circle","win__marker","name__circle_2","moves__info","time__info","ChangeNameModal","active","setActive","setInput","setInput2","inputRef","modal","modal__disable","modal__inner","top__text","input__plus__text","input","change__btn","value","Modal","gameType","setGameType","closeModal","setCloseModal","setGame","block__container","inactive__type","active__type","change__game__btn","Player","setModalActive","player__box","StartWindow","playerNum","modalActive","modalActiveOnline","setModalActiveOnline","inputOne","setInputOne","inputTwo","inputOnline","setInputOnline","playerNameInput","setStartState","setItem","setPlayerNameOnline","top__text_special","body__container","btns__container","network__info","view__btn","Body","path","Footer","footer__container","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","initialMovesState","rootReducer","combineReducers","action","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.cbd33e6d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"replays_App__29WQr\",\"green\":\"replays_green__3vz0F\",\"lobby__btn\":\"replays_lobby__btn__PA_lZ\",\"repeats__block\":\"replays_repeats__block__2r3aW\",\"chess__info\":\"replays_chess__info__2l6pu\",\"info__inner\":\"replays_info__inner__sqkqY\",\"name__circle\":\"replays_name__circle__3E9VQ\",\"name__circle_2\":\"replays_name__circle_2__2R8jU\",\"win__marker\":\"replays_win__marker__2gtEd\",\"moves__info\":\"replays_moves__info__1wTxf\",\"time__info\":\"replays_time__info__3RP07\",\"link\":\"replays_link__97hfQ\",\"chess__grid\":\"replays_chess__grid__26t3G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"header_App__LL4wS\",\"green\":\"header_green__2TjVJ\",\"header__container\":\"header_header__container__cOgDH\",\"logo__img\":\"header_logo__img__H-af_\",\"logo__text\":\"header_logo__text__1lWxo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"footer_App__2o9kA\",\"green\":\"footer_green__1uZ_8\",\"footer__container\":\"footer_footer__container__1F-rW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"start-window_App__2Yy2j\",\"green\":\"start-window_green__1as9H\",\"body__container\":\"start-window_body__container__3vHb3\",\"player__box\":\"start-window_player__box__3wkrq\",\"player__ava\":\"start-window_player__ava__23rNS\",\"player__name\":\"start-window_player__name__8jgwn\",\"btns__container\":\"start-window_btns__container__3Ajuv\",\"start__btn\":\"start-window_start__btn__2flKG\",\"network__info\":\"start-window_network__info__Iq29u\",\"view__btn\":\"start-window_view__btn__1E6Io\",\"modal\":\"start-window_modal__2Iwfx\",\"modal__inner\":\"start-window_modal__inner__2NJjs\",\"top__text\":\"start-window_top__text__2IweO\",\"top__text_special\":\"start-window_top__text_special__1XB6M\",\"input__plus__text\":\"start-window_input__plus__text__1aOB1\",\"input\":\"start-window_input__1FUv3\",\"text\":\"start-window_text__3K1Z0\",\"change__btn\":\"start-window_change__btn__30CX4\",\"block__container\":\"start-window_block__container__9cJbV\",\"inactive__type\":\"start-window_inactive__type__2a8cE\",\"active__type\":\"start-window_active__type__3Vb8X\",\"change__game__btn\":\"start-window_change__game__btn__3c-Wn\",\"modal__disable\":\"start-window_modal__disable__38mPS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"game_App__2OGr5\",\"green\":\"game_green__1wJQC\",\"game__container\":\"game_game__container__3oYEc\",\"timer\":\"game_timer__3Icu0\",\"loss__btn\":\"game_loss__btn__1ZEJO\",\"start__btn\":\"game_start__btn__Nvhas\",\"lobby__btn\":\"game_lobby__btn__1fybW\",\"replays__btn\":\"game_replays__btn__1LuEl\",\"player__field\":\"game_player__field__1ZR3k\",\"player__ava\":\"game_player__ava__3rODl\",\"player__name\":\"game_player__name__s6iNL\",\"win__ico\":\"game_win__ico__3QiQ4\",\"moveHand__img\":\"game_moveHand__img__2Ly7l\",\"player__board\":\"game_player__board__d4Z7V\",\"part__one\":\"game_part__one__3wjiH\",\"part__two\":\"game_part__two__1938v\",\"part__three\":\"game_part__three__2pvNk\",\"figure__img\":\"game_figure__img__32Pua\",\"move__info\":\"game_move__info__1P3Qi\",\"win__window\":\"game_win__window__6tp3z\",\"winWindow\":\"game_winWindow__2hcB_\",\"preloader__window\":\"game_preloader__window__8CCTx\",\"text\":\"game_text__g6yiQ\",\"preloader\":\"game_preloader__169t4\"};","import { MoveDTO } from \"../redux/redux-types\";\r\n\r\nexport interface ModalProps {\r\n  number: number;\r\n  active: boolean;\r\n  setActive: React.Dispatch<React.SetStateAction<boolean>>;\r\n  setInput: React.Dispatch<React.SetStateAction<string>>;\r\n  setInput2: React.Dispatch<React.SetStateAction<string>>;\r\n}\r\n\r\nexport enum TeamType {\r\n  OPPONENT,\r\n  OUR,\r\n}\r\nexport enum PieceType {\r\n  PAWN,\r\n  BISHOP,\r\n  KNIGHT,\r\n  ROOK,\r\n  QUEEN,\r\n  KING,\r\n}\r\n\r\nexport interface Piece {\r\n  image: string;\r\n  x: number;\r\n  y: number;\r\n  type: PieceType;\r\n  cellColor?: string;\r\n  team: TeamType;\r\n  id: number;\r\n  enPassant?: boolean;\r\n}\r\n\r\nexport interface TileProps {\r\n  number: number;\r\n  image?: string;\r\n  position: string;\r\n  player?: boolean;\r\n  size?: number;\r\n}\r\n\r\nexport interface SocketProps {\r\n  event: string;\r\n  boardState: Piece[] | undefined;\r\n  players?: number;\r\n}\r\n\r\nexport interface SavedGame {\r\n  gamers: string[];\r\n  time: string;\r\n  movesCount: number;\r\n  winner: boolean;\r\n}\r\n\r\nexport interface WebSocketMessage {\r\n  event: string;\r\n  data: boolean | MoveDTO | string;\r\n}\r\n\r\nexport interface PlayerDTO {\r\n  name: string;\r\n  id: number;\r\n}\r\n\r\nexport interface PlayerProps {\r\n  num: number;\r\n  name: string;\r\n  setPlayer: React.Dispatch<React.SetStateAction<number>>;\r\n  setModalActive: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nexport type DatabaseErrorEvent = Event & { target: { errorCode: string } };\r\n","import { FC } from \"react\";\r\nimport s from \"./header.module.scss\";\r\n\r\nconst Header: FC = () => {\r\n  return (\r\n    <div className={s.header__container}>\r\n      <div className={s.logo__img}></div>\r\n      <div className={s.logo__text}></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import { FC } from \"react\";\r\nimport { TileProps } from \"../../../interfaces-enums\";\r\nimport s from \"./chess-field.module.scss\";\r\n\r\nconst Tile: FC<TileProps> = ({ number, image, position, size }) => {\r\n  if (number % 2 === 0) {\r\n    return (\r\n      <div className={s.black__field}>\r\n        {image && (\r\n          <div\r\n            style={{\r\n              backgroundImage: `url(./build/${image})`,\r\n              width: `${size}px`,\r\n            }}\r\n            className={s.figure__img}\r\n          >\r\n            {position}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  } else {\r\n    return (\r\n      <div className={s.white__field}>\r\n        {image && (\r\n          <div\r\n            style={{\r\n              backgroundImage: `url(${image})`,\r\n              width: `${size}px`,\r\n            }}\r\n            className={s.figure__img}\r\n          >\r\n            {position}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Tile;\r\n","import {\r\n  DatabaseErrorEvent,\r\n  SavedGame,\r\n} from \"./../components/interfaces-enums\";\r\n\r\nexport let db: IDBDatabase;\r\nconst dbReq: IDBOpenDBRequest = window.indexedDB.open(\r\n  \"olegrabushko-JSFE2021Q1\",\r\n  1\r\n);\r\ndbReq.onupgradeneeded = (event) => {\r\n  db = (event.target as IDBOpenDBRequest).result;\r\n  db.createObjectStore(\"player\", { autoIncrement: true });\r\n};\r\n\r\ndbReq.onerror = (event: Event) => {\r\n  const { errorCode } = (event as DatabaseErrorEvent).target;\r\n  console.log(`error${errorCode}`);\r\n};\r\ndbReq.onsuccess = (event) => {\r\n  db = (event.target as IDBOpenDBRequest).result;\r\n};\r\n\r\nexport const getSavedGameIndexedDB = async (\r\n  setGameInfo: React.Dispatch<React.SetStateAction<SavedGame[]>>\r\n) => {\r\n  const tx = await db.transaction([\"player\"], \"readwrite\");\r\n  const store = await tx.objectStore(\"player\");\r\n  store.getAll().onsuccess = async (event: Event): Promise<void> => {\r\n    const data = await (event.target as IDBRequest).result;\r\n    if (data) {\r\n      setGameInfo(data);\r\n    } else {\r\n    }\r\n  };\r\n};\r\n","import { Piece, TeamType, PieceType } from \"../../../interfaces-enums\";\r\n\r\nclass Rules {\r\n  tileIsOccupiedForPawns(x: number, y: number, boardState: Piece[]): boolean {\r\n    const piece = boardState.find((p) => {\r\n      return p.x === x && p.y === y;\r\n    });\r\n    return piece ? true : false;\r\n  }\r\n\r\n  tileIsOccupied(\r\n    x: number,\r\n    y: number,\r\n    boardState: Piece[],\r\n    team: TeamType,\r\n    px?: number,\r\n    py?: number,\r\n    type?: PieceType\r\n  ): boolean {\r\n    const piece = boardState.find(\r\n      (p) => p.x === x && p.y === y && p.team === team\r\n    );\r\n    return piece ? true : false;\r\n  }\r\n  checkWin(x: number, y: number, boardState: Piece[]): boolean {\r\n    const piece = boardState.find(\r\n      (p) => p.x === x && p.y === y && p.type === PieceType.KING\r\n    );\r\n    return piece ? true : false;\r\n  }\r\n  tileIsOccupiedByOpponent(\r\n    x: number,\r\n    y: number,\r\n    boardState: Piece[],\r\n    team: TeamType\r\n  ): boolean {\r\n    const piece = boardState.find(\r\n      (p) => p.x === x && p.y === y && p.team !== team\r\n    );\r\n    return piece ? true : false;\r\n  }\r\n\r\n  checkMoveRook(\r\n    px: number,\r\n    x: number,\r\n    py: number,\r\n    y: number,\r\n    num: number\r\n  ): boolean {\r\n    return px - x === num && py - y === 0 ? true : false;\r\n  }\r\n  isEnPassantMove(\r\n    px: number,\r\n    py: number,\r\n    x: number,\r\n    y: number,\r\n    type: PieceType,\r\n    team: TeamType,\r\n    boardState: Piece[]\r\n  ) {\r\n    const direction = team === TeamType.OUR ? 1 : -1;\r\n    if (type === PieceType.PAWN) {\r\n      if ((px - x === 1 || px - x === -1) && py - y === direction) {\r\n        const piece = boardState.find(\r\n          (p) => p.x === x && p.y === y + direction && p.enPassant\r\n        );\r\n        if (piece) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  isValidMove(\r\n    px: number,\r\n    py: number,\r\n    x: number,\r\n    y: number,\r\n    type: PieceType,\r\n    team: TeamType,\r\n    boardState: Piece[],\r\n    cellColor: string | undefined\r\n  ) {\r\n    if (type === PieceType.BISHOP) {\r\n      const color =\r\n        cellColor === \"white\" ? (x + y) % 2 === 0 : (x + y) % 2 === 1;\r\n      if (color && px !== x && py !== y) {\r\n        if (!this.tileIsOccupied(x, y, boardState, team, px, py)) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (type === PieceType.KING) {\r\n      if (px - x === 1 || px - x === -1 || py - y === 1 || py - y === -1) {\r\n        if (!this.tileIsOccupied(x, y, boardState, team)) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (type === PieceType.QUEEN) {\r\n      const move = (num: number, point?: string) => {\r\n        if (point === \"-\") {\r\n          return px - x === -num && py - y === num ? true : false;\r\n        } else if (point === \"x\") {\r\n          return px - x === num && py - y === 0 ? true : false;\r\n        } else if (point === \"y\") {\r\n          return py - y === num && px - x === 0 ? true : false;\r\n        } else {\r\n          return px - x === num && py - y === num ? true : false;\r\n        }\r\n      };\r\n      for (let i = -7; i < 8; i++) {\r\n        if (\r\n          (move(i) || move(i, \"-\") || move(i, \"x\") || move(i, \"y\")) &&\r\n          !this.tileIsOccupied(x, y, boardState, team)\r\n        ) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (type === PieceType.KNIGHT) {\r\n      if (\r\n        (px - x === 1 && py - y === 2) ||\r\n        (px - x === -1 && py - y === -2) ||\r\n        (px - x === 1 && py - y === -2) ||\r\n        (px - x === -1 && py - y === 2) ||\r\n        (px - x === -2 && py - y === -1) ||\r\n        (px - x === 2 && py - y === 1) ||\r\n        (px - x === -2 && py - y === 1) ||\r\n        (px - x === 2 && py - y === -1)\r\n      ) {\r\n        if (!this.tileIsOccupied(x, y, boardState, team)) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (type === PieceType.ROOK) {\r\n      const move = (num: number, point: string) => {\r\n        if (point === \"x\") {\r\n          return px - x === num && py - y === 0 ? true : false;\r\n        } else {\r\n          return py - y === num && px - x === 0 ? true : false;\r\n        }\r\n      };\r\n      for (let i = -7; i < 8; i++) {\r\n        if (\r\n          (move(i, \"x\") || move(i, \"y\")) &&\r\n          !this.tileIsOccupied(x, y, boardState, team)\r\n        ) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (type === PieceType.PAWN) {\r\n      const row = team === TeamType.OUR ? 6 : 1;\r\n      const direction = team === TeamType.OUR ? 1 : -1;\r\n\r\n      // Attack logic\r\n      if (\r\n        (px - x === 1 && py - y === direction) ||\r\n        (px - x === -1 && py - y === direction)\r\n      ) {\r\n        if (this.tileIsOccupiedByOpponent(x, y, boardState, team)) {\r\n          return true;\r\n        }\r\n      } //Movement logic\r\n      else if (py === row) {\r\n        if (\r\n          px === x &&\r\n          py - y === 1 * direction &&\r\n          !this.tileIsOccupiedForPawns(x, y, boardState)\r\n        ) {\r\n          return true;\r\n        } else if (\r\n          px === x &&\r\n          py - y === 2 * direction &&\r\n          !this.tileIsOccupiedForPawns(x, y, boardState) &&\r\n          !this.tileIsOccupiedForPawns(x, y + 1 * direction, boardState)\r\n        ) {\r\n          return true;\r\n        }\r\n      } else if (\r\n        px === x &&\r\n        py - y === 1 * direction &&\r\n        !this.tileIsOccupiedForPawns(x, y, boardState)\r\n      ) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n}\r\n\r\nexport default Rules;\r\n","import axios from \"axios\";\r\nimport { PlayerDTO } from \"../components/interfaces-enums\";\r\n\r\nexport const getPlayers = async (): Promise<PlayerDTO[]> => {\r\n  const response = await fetch(\"http://localhost:3002/state\");\r\n  const player = await response.json();\r\n  return player;\r\n};\r\n\r\nexport const addNewPlayer = async (body: PlayerDTO) => {\r\n  const response = await fetch(\"http://localhost:3002/state\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(body),\r\n  });\r\n  const player = await response.json();\r\n  return player;\r\n};\r\n\r\nexport const deletePlayers = async () => {\r\n  const response: Response = await fetch(\"http://localhost:3002/state\", {\r\n    method: \"DELETE\",\r\n  });\r\n  const player = await response.json();\r\n  return player;\r\n};\r\nexport const deletePlayer = async (id: number) => {\r\n  const response: Response = await fetch(`http://localhost:3002/state/${id}`, {\r\n    method: \"DELETE\",\r\n  });\r\n  const player = await response.json();\r\n  return player;\r\n};\r\n\r\nexport const getTurnQueue = async () => {\r\n  const response = await fetch(\"http://localhost:3002/state/queue\");\r\n  const count = await response.json();\r\n  return count;\r\n};\r\n\r\nexport const updateTurnQueue = async (state: boolean) => {\r\n  const response = await fetch(\"http://localhost:3002/state/queue\", {\r\n    method: \"PUT\",\r\n    headers: {\r\n      \"Content-type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify([state]),\r\n  });\r\n  const count = await response.json();\r\n  return count;\r\n};\r\n\r\nexport const addPlayer = async () => {\r\n  await addNewPlayer({\r\n    name: localStorage.getItem(\"player\") as string,\r\n    id: Date.now(),\r\n  });\r\n  await axios.post(\"http://localhost:3002/new-player\");\r\n};\r\n","import {\r\n  OnlineGameProps,\r\n  OnlinePlayersProps,\r\n  MoveDeskProps,\r\n  Move,\r\n  MoveDTO,\r\n} from \"./redux-types\";\r\n\r\nexport const SET_GAME = \"SET_GAME\";\r\nexport const SET_ONLINE_PLAYERS = \"SET_ONLINE_PLAYERS\";\r\nexport const SET_MOVES_ONE = \"SET_MOVES_ONE\";\r\nexport const SET_MOVES_TWO = \"SET_MOVES_TWO\";\r\nexport const ADD_MOVE_ONE = \"ADD_MOVE_ONE\";\r\nexport const ADD_MOVE_TWO = \"ADD_MOVE_TWO\";\r\n\r\nexport const addMoveOne = (moveData: MoveDTO): MoveDeskProps => ({\r\n  type: ADD_MOVE_ONE,\r\n  payload: moveData,\r\n});\r\nexport const addMoveTwo = (moveData: MoveDTO): MoveDeskProps => ({\r\n  type: ADD_MOVE_TWO,\r\n  payload: moveData,\r\n});\r\n\r\nexport const setOnlineGame = (count: boolean): OnlineGameProps => ({\r\n  type: SET_GAME,\r\n  payload: count,\r\n});\r\n\r\nexport const setOnlinePlayers = (count: boolean): OnlinePlayersProps => ({\r\n  type: SET_ONLINE_PLAYERS,\r\n  payload: count,\r\n});\r\n\r\n/////\r\nexport const setMovesOne = (count: Move): MoveDeskProps => ({\r\n  type: SET_MOVES_ONE,\r\n  payload: count,\r\n});\r\nexport const setMovesTwo = (count: Move): MoveDeskProps => ({\r\n  type: SET_MOVES_TWO,\r\n  payload: count,\r\n});\r\n","import { Piece, PieceType, TeamType } from \"../../../interfaces-enums\";\r\n\r\nexport const startingBoardState: Piece[] = [\r\n  {\r\n    image: `assets/imgs/w-king.png`,\r\n    x: 4,\r\n    y: 7,\r\n    type: PieceType.KING,\r\n    team: TeamType.OUR,\r\n    id: 1,\r\n  },\r\n  {\r\n    image: `assets/imgs/w-queen.png`,\r\n    x: 3,\r\n    y: 7,\r\n    type: PieceType.QUEEN,\r\n    team: TeamType.OUR,\r\n    id: 2,\r\n  },\r\n  {\r\n    image: `assets/imgs/w-pawn.png`,\r\n    x: 0,\r\n    y: 6,\r\n    type: PieceType.PAWN,\r\n    team: TeamType.OUR,\r\n    id: 3,\r\n  },\r\n  {\r\n    image: `assets/imgs/w-pawn.png`,\r\n    x: 1,\r\n    y: 6,\r\n    type: PieceType.PAWN,\r\n    team: TeamType.OUR,\r\n    id: 4,\r\n  },\r\n  {\r\n    image: `assets/imgs/w-pawn.png`,\r\n    x: 2,\r\n    y: 6,\r\n    type: PieceType.PAWN,\r\n    team: TeamType.OUR,\r\n    id: 5,\r\n  },\r\n  {\r\n    image: `assets/imgs/w-pawn.png`,\r\n    x: 3,\r\n    y: 6,\r\n    type: PieceType.PAWN,\r\n    team: TeamType.OUR,\r\n    id: 6,\r\n  },\r\n  {\r\n    image: `assets/imgs/w-pawn.png`,\r\n    x: 4,\r\n    y: 6,\r\n    type: PieceType.PAWN,\r\n    team: TeamType.OUR,\r\n    id: 7,\r\n  },\r\n  {\r\n    image: `assets/imgs/w-pawn.png`,\r\n    x: 5,\r\n    y: 6,\r\n    type: PieceType.PAWN,\r\n    team: TeamType.OUR,\r\n    id: 8,\r\n  },\r\n  {\r\n    image: `assets/imgs/w-pawn.png`,\r\n    x: 6,\r\n    y: 6,\r\n    type: PieceType.PAWN,\r\n    team: TeamType.OUR,\r\n    id: 9,\r\n  },\r\n  {\r\n    image: `assets/imgs/w-pawn.png`,\r\n    x: 7,\r\n    y: 6,\r\n    type: PieceType.PAWN,\r\n    team: TeamType.OUR,\r\n    id: 10,\r\n  },\r\n  {\r\n    image: \"assets/imgs/w-knight.png\",\r\n    x: 1,\r\n    y: 7,\r\n    type: PieceType.KNIGHT,\r\n    team: TeamType.OUR,\r\n    id: 11,\r\n  },\r\n  {\r\n    image: \"assets/imgs/w-knight.png\",\r\n    x: 6,\r\n    y: 7,\r\n    type: PieceType.KNIGHT,\r\n    team: TeamType.OUR,\r\n    id: 12,\r\n  },\r\n  {\r\n    image: \"assets/imgs/w-rook.png\",\r\n    x: 0,\r\n    y: 7,\r\n    type: PieceType.ROOK,\r\n    team: TeamType.OUR,\r\n    id: 13,\r\n  },\r\n  {\r\n    image: \"assets/imgs/w-rook.png\",\r\n    x: 7,\r\n    y: 7,\r\n    type: PieceType.ROOK,\r\n    team: TeamType.OUR,\r\n    id: 14,\r\n  },\r\n  {\r\n    image: \"assets/imgs/w-bishop.png\",\r\n    x: 2,\r\n    y: 7,\r\n    type: PieceType.BISHOP,\r\n    team: TeamType.OUR,\r\n    cellColor: \"black\",\r\n    id: 15,\r\n  },\r\n  {\r\n    image: \"assets/imgs/w-bishop.png\",\r\n    x: 5,\r\n    y: 7,\r\n    type: PieceType.BISHOP,\r\n    team: TeamType.OUR,\r\n    cellColor: \"white\",\r\n    id: 16,\r\n  },\r\n  {\r\n    image: `assets/imgs/b-king.png`,\r\n    x: 4,\r\n    y: 0,\r\n    type: PieceType.KING,\r\n    team: TeamType.OPPONENT,\r\n    id: 17,\r\n  },\r\n  {\r\n    image: `assets/imgs/b-queen.png`,\r\n    x: 3,\r\n    y: 0,\r\n    type: PieceType.QUEEN,\r\n    team: TeamType.OPPONENT,\r\n    id: 18,\r\n  },\r\n  {\r\n    image: `assets/imgs/b-pawn.png`,\r\n    x: 0,\r\n    y: 1,\r\n    type: PieceType.PAWN,\r\n    team: TeamType.OPPONENT,\r\n    id: 19,\r\n  },\r\n  {\r\n    image: `assets/imgs/b-pawn.png`,\r\n    x: 1,\r\n    y: 1,\r\n    type: PieceType.PAWN,\r\n    team: TeamType.OPPONENT,\r\n    id: 20,\r\n  },\r\n  {\r\n    image: `assets/imgs/b-pawn.png`,\r\n    x: 2,\r\n    y: 1,\r\n    type: PieceType.PAWN,\r\n    team: TeamType.OPPONENT,\r\n    id: 21,\r\n  },\r\n  {\r\n    image: `assets/imgs/b-pawn.png`,\r\n    x: 3,\r\n    y: 1,\r\n    type: PieceType.PAWN,\r\n    team: TeamType.OPPONENT,\r\n    id: 22,\r\n  },\r\n  {\r\n    image: `assets/imgs/b-pawn.png`,\r\n    x: 4,\r\n    y: 1,\r\n    type: PieceType.PAWN,\r\n    team: TeamType.OPPONENT,\r\n    id: 23,\r\n  },\r\n  {\r\n    image: `assets/imgs/b-pawn.png`,\r\n    x: 5,\r\n    y: 1,\r\n    type: PieceType.PAWN,\r\n    team: TeamType.OPPONENT,\r\n    id: 24,\r\n  },\r\n  {\r\n    image: `assets/imgs/b-pawn.png`,\r\n    x: 6,\r\n    y: 1,\r\n    type: PieceType.PAWN,\r\n    team: TeamType.OPPONENT,\r\n    id: 25,\r\n  },\r\n  {\r\n    image: `assets/imgs/b-pawn.png`,\r\n    x: 7,\r\n    y: 1,\r\n    type: PieceType.PAWN,\r\n    team: TeamType.OPPONENT,\r\n    id: 26,\r\n  },\r\n  {\r\n    image: `assets/imgs/b-knight.png`,\r\n    x: 6,\r\n    y: 0,\r\n    type: PieceType.KNIGHT,\r\n    team: TeamType.OPPONENT,\r\n    id: 27,\r\n  },\r\n  {\r\n    image: `assets/imgs/b-knight.png`,\r\n    x: 1,\r\n    y: 0,\r\n    type: PieceType.KNIGHT,\r\n    team: TeamType.OPPONENT,\r\n    id: 28,\r\n  },\r\n  {\r\n    image: `assets/imgs/b-rook.png`,\r\n    x: 7,\r\n    y: 0,\r\n    type: PieceType.ROOK,\r\n    team: TeamType.OPPONENT,\r\n    id: 29,\r\n  },\r\n  {\r\n    image: `assets/imgs/b-rook.png`,\r\n    x: 0,\r\n    y: 0,\r\n    type: PieceType.ROOK,\r\n    team: TeamType.OPPONENT,\r\n    id: 30,\r\n  },\r\n  {\r\n    image: `assets/imgs/b-bishop.png`,\r\n    x: 2,\r\n    y: 0,\r\n    type: PieceType.BISHOP,\r\n    team: TeamType.OPPONENT,\r\n    cellColor: \"white\",\r\n    id: 31,\r\n  },\r\n  {\r\n    image: `assets/imgs/b-bishop.png`,\r\n    x: 5,\r\n    y: 0,\r\n    type: PieceType.BISHOP,\r\n    team: TeamType.OPPONENT,\r\n    cellColor: \"black\",\r\n    id: 32,\r\n  },\r\n];\r\n\r\nexport const cloneBoardState = () =>\r\n  startingBoardState.map((el) => ({ ...el }));\r\n","import { OnlinePlayersProps } from \"./../redux/redux-types\";\r\nimport { setOnlinePlayers } from \"./../redux/actions\";\r\nimport { SocketProps, WebSocketMessage } from \"../components/interfaces-enums\";\r\nimport { addMoveOne, addMoveTwo } from \"../redux/actions\";\r\nimport { Piece } from \"../components/interfaces-enums\";\r\nimport { cloneBoardState } from \"../components/body/game/chess-field/chessboard-state\";\r\nimport { Dispatch } from \"react\";\r\nimport { MoveDeskProps } from \"../redux/redux-types\";\r\nimport { getPlayers, getTurnQueue } from \"./server\";\r\n\r\nexport const socket = new WebSocket(\"ws://localhost:3001\");\r\n\r\nexport const sendMessage = async (state: Piece[]) => {\r\n  const message: SocketProps = {\r\n    event: \"check-chessboard\",\r\n    boardState: state,\r\n  };\r\n  socket.send(JSON.stringify(message));\r\n};\r\n\r\nexport const setSocket = (\r\n  setPieces: React.Dispatch<React.SetStateAction<Piece[]>>,\r\n  dispatch: Dispatch<MoveDeskProps | OnlinePlayersProps>,\r\n  setTurnQueue: React.Dispatch<React.SetStateAction<boolean>>,\r\n  setLoss: React.Dispatch<React.SetStateAction<boolean>>,\r\n  refreshGame: () => void\r\n) => {\r\n  socket.onopen = () => {\r\n    const boardState: SocketProps = {\r\n      event: \"check-chessboard\",\r\n      boardState: cloneBoardState(),\r\n    };\r\n\r\n    socket.send(JSON.stringify(boardState));\r\n  };\r\n\r\n  socket.onmessage = async (event) => {\r\n    const queue = await getTurnQueue();\r\n    const message = JSON.parse(event.data);\r\n    if (message.event === \"check-chessboard\") {\r\n      setPieces(message.boardState);\r\n    }\r\n    if (message.event === \"queue\") {\r\n      setTurnQueue((prev: boolean) => !prev);\r\n    }\r\n    if (message.event === \"loss\") {\r\n      setLoss(true);\r\n      refreshGame();\r\n    }\r\n    if (message.event === \"players\") {\r\n      const players = await getPlayers();\r\n      if (players.length > 1) {\r\n        dispatch(setOnlinePlayers(true));\r\n      }\r\n    }\r\n    if (message.event === \"move-message\") {\r\n      dispatch(queue ? addMoveOne(message.data) : addMoveTwo(message.data));\r\n    }\r\n  };\r\n};\r\n\r\nexport const sendQueue = (queue: boolean) => {\r\n  const message: WebSocketMessage = {\r\n    event: \"queue\",\r\n    data: queue,\r\n  };\r\n  socket.send(JSON.stringify(message));\r\n};\r\nexport const sendLoss = (loss: boolean) => {\r\n  const message: WebSocketMessage = {\r\n    event: \"loss\",\r\n    data: loss,\r\n  };\r\n  socket.send(JSON.stringify(message));\r\n};\r\nexport const sendPlayer = (player: boolean) => {\r\n  const message: WebSocketMessage = {\r\n    event: \"players\",\r\n    data: player,\r\n  };\r\n  socket.send(JSON.stringify(message));\r\n};\r\n\r\nexport const sendDeskInfo = (move: string, time: string, figure: string) => {\r\n  const message: WebSocketMessage = {\r\n    event: \"move-message\",\r\n    data: { move: move, time: time, url: figure },\r\n  };\r\n  socket.send(JSON.stringify(message));\r\n};\r\n","import { getPlayers, getTurnQueue } from \"../../../../api/server\";\r\nimport { db } from \"../../../../indexedDb/indexedDb\";\r\nimport { SavedGame } from \"../../../interfaces-enums\";\r\n\r\nexport const savedGame: SavedGame = {\r\n  gamers: [],\r\n  time: \"\",\r\n  movesCount: 0,\r\n  winner: true,\r\n};\r\n\r\nexport const savingGame = () => {\r\n  let transaction = db.transaction([\"player\"], \"readwrite\");\r\n  let inventory = transaction.objectStore(\"player\");\r\n  inventory.add(savedGame);\r\n};\r\n\r\nexport const gameOver = async (\r\n  setWin: React.Dispatch<React.SetStateAction<boolean>>,\r\n  setStart: React.Dispatch<React.SetStateAction<boolean>>,\r\n  boardActivator: React.RefObject<HTMLDivElement> | null,\r\n  setTimer: React.Dispatch<React.SetStateAction<boolean>>\r\n) => {\r\n  setTimeout(() => {\r\n    savingGame();\r\n    setTimer(true);\r\n    setStart(false);\r\n    setWin(true);\r\n    boardActivator!.current!.style.pointerEvents = \"none\";\r\n  }, 1000);\r\n};\r\n\r\nexport const searchActualPlayer = async () => {\r\n  const queue = await getTurnQueue();\r\n  const player = await getPlayers();\r\n  const playerName = localStorage.getItem(\"player\");\r\n  const actualPlayer = !queue ? 0 : 1;\r\n  return player[actualPlayer].name === playerName;\r\n};\r\n","import { Dispatch } from \"react\";\r\nimport { sendDeskInfo } from \"../../../../api/webSocket\";\r\nimport { setMovesOne, setMovesTwo } from \"../../../../redux/actions\";\r\nimport { MoveDeskProps, MovesState } from \"../../../../redux/redux-types\";\r\n\r\nexport const numbers: number[] = [8, 7, 6, 5, 4, 3, 2, 1];\r\nexport const letters: string[] = [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\"];\r\n\r\nexport const movesController = (\r\n  moveRecord: string,\r\n  urlEl: string,\r\n  time: string,\r\n  onlineGame: boolean,\r\n  dispatch: Dispatch<MoveDeskProps>,\r\n  player: boolean,\r\n  checkUpdatedMoves: boolean,\r\n  moves: MovesState\r\n) => {\r\n  if (onlineGame) {\r\n    sendDeskInfo(moveRecord, time, urlEl);\r\n  } else {\r\n    if (player && !checkUpdatedMoves) {\r\n      dispatch(\r\n        setMovesOne({\r\n          moves: [...moves.one.moves, moveRecord],\r\n          times: [...moves.one.times, time],\r\n          figures: [...moves.one.figures, urlEl],\r\n        })\r\n      );\r\n    } else if (!player && !checkUpdatedMoves) {\r\n      dispatch(\r\n        setMovesTwo({\r\n          moves: [...moves.two.moves, moveRecord],\r\n          times: [...moves.two.times, time],\r\n          figures: [...moves.two.figures, urlEl],\r\n        })\r\n      );\r\n    }\r\n  }\r\n};\r\n","import Tile from \"./tile\";\r\nimport s from \"./chess-field.module.scss\";\r\nimport { FC, useEffect, useRef, useState } from \"react\";\r\nimport Rules from \"../rules/rules\";\r\nimport { Piece, PieceType, TeamType } from \"../../../interfaces-enums\";\r\nimport {\r\n  getPlayers,\r\n  getTurnQueue,\r\n  updateTurnQueue,\r\n} from \"../../../../api/server\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { RootState } from \"../../../../redux\";\r\nimport { sendMessage, sendQueue } from \"../../../../api/webSocket\";\r\nimport { gameOver } from \"../helpers/helper\";\r\nimport { letters, movesController, numbers } from \"./chess-field-helper\";\r\n\r\ninterface ChessFieldProps {\r\n  setWin: React.Dispatch<React.SetStateAction<boolean>>;\r\n  setStart: React.Dispatch<React.SetStateAction<boolean>>;\r\n  setActiveForBoard: React.Dispatch<\r\n    React.SetStateAction<React.RefObject<HTMLDivElement> | null>\r\n  >;\r\n  setTimer: React.Dispatch<React.SetStateAction<boolean>>;\r\n  setPieces: React.Dispatch<React.SetStateAction<Piece[]>>;\r\n  setPlayer: React.Dispatch<React.SetStateAction<boolean>>;\r\n  setTurnQueue: React.Dispatch<React.SetStateAction<boolean>>;\r\n  pieces: Piece[];\r\n  player: boolean;\r\n  checkUpdatedMoves: boolean;\r\n  win: boolean;\r\n  start: boolean;\r\n  boardActivator: React.RefObject<HTMLDivElement> | null;\r\n  time: string;\r\n  checkTurnQueue: boolean;\r\n}\r\n\r\nconst ChessField: FC<ChessFieldProps> = ({\r\n  setWin,\r\n  setActiveForBoard,\r\n  setTurnQueue,\r\n  setStart,\r\n  setPieces,\r\n  setTimer,\r\n  setPlayer,\r\n  pieces,\r\n  player,\r\n  boardActivator,\r\n  checkUpdatedMoves,\r\n  win,\r\n  start,\r\n  time,\r\n  checkTurnQueue,\r\n}) => {\r\n  const [activePiece, setActivePiece] = useState<HTMLElement | null>(null);\r\n  const [gridX, setGridX] = useState(0);\r\n  const [gridY, setGridY] = useState(0);\r\n  const [piecePosition, setPiecePosition] = useState<HTMLElement | null>(null);\r\n  const boardRef = useRef<HTMLDivElement>(null);\r\n  const rules = new Rules();\r\n  const board: JSX.Element[] = [];\r\n  const coordinate = (expression: number) => Math.floor(expression / 100);\r\n  const onlineGame = useSelector((state: RootState) => state.game.onlineGame);\r\n  const dispatch = useDispatch();\r\n  const moves = useSelector((state: RootState) => state.moves);\r\n  const allFigures = document.querySelectorAll(\r\n    \".chess-field_figure__img__2EzTg\"\r\n  );\r\n\r\n  useEffect(() => {\r\n    setActiveForBoard(boardRef);\r\n  }, []);\r\n\r\n  document.onmousemove = async () => {\r\n    const queue = await getTurnQueue();\r\n    const player = await getPlayers();\r\n    const playerName = localStorage.getItem(\"player\");\r\n    const searchActualPlayer = !queue ? 0 : 1;\r\n    let checker = (onlineGame ? !queue : !checkTurnQueue) ? \"b\" : \"w\";\r\n    if (start) {\r\n      allFigures.forEach((el) => {\r\n        const elem = el as HTMLDivElement;\r\n        if (player[searchActualPlayer].name !== playerName && onlineGame) {\r\n          elem.style.pointerEvents = \"none\";\r\n        } else {\r\n          if (\r\n            elem.style.backgroundImage.split(\"/\")[2].split(\"\")[0] === checker\r\n          ) {\r\n            elem.style.pointerEvents = \"none\";\r\n          } else {\r\n            elem.style.pointerEvents = \"auto\";\r\n          }\r\n        }\r\n      });\r\n    } else {\r\n      allFigures.forEach(\r\n        (el) => ((el as HTMLDivElement).style.pointerEvents = \"none\")\r\n      );\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const moveDesk = async () => {\r\n      let checker = 0;\r\n      pieces.forEach((el) => {\r\n        if (el.type === PieceType.KING) {\r\n          checker++;\r\n        }\r\n      });\r\n      if (checker < 2) {\r\n        gameOver(setWin, setStart, boardActivator, setTimer);\r\n      }\r\n      if (piecePosition) {\r\n        const coordinates = piecePosition.innerHTML.split(\",\");\r\n        const x = Number(coordinates[0]);\r\n        const y = Number(coordinates[1]);\r\n        const idEl = Number(coordinates[2]);\r\n        const urlEl = piecePosition.style.backgroundImage.split(`\\\"`)[1];\r\n        const findEl = pieces.find(\r\n          (el) => el.image === urlEl && el.id === idEl\r\n        );\r\n        if (findEl && !win) {\r\n          const moveRecord = `${letters[x]}${numbers[y]}-${letters[findEl.x]}${\r\n            numbers[findEl.y]\r\n          }`;\r\n          movesController(\r\n            moveRecord,\r\n            urlEl,\r\n            time,\r\n            onlineGame,\r\n            dispatch,\r\n            player,\r\n            checkUpdatedMoves,\r\n            moves\r\n          );\r\n        }\r\n      }\r\n    };\r\n    moveDesk();\r\n  }, [pieces]);\r\n\r\n  const grabPiece = (e: React.MouseEvent) => {\r\n    const chessboard = boardRef.current;\r\n    const element = e.target as HTMLElement;\r\n    setPiecePosition(element);\r\n\r\n    if (\r\n      element.classList.contains(\"chess-field_figure__img__2EzTg\") &&\r\n      chessboard\r\n    ) {\r\n      const gridX = coordinate(e.clientX - chessboard.offsetLeft);\r\n      const gridY = coordinate(e.clientY - chessboard.offsetTop);\r\n\r\n      setGridX(gridX);\r\n      setGridY(gridY);\r\n      setActivePiece(element);\r\n    }\r\n  };\r\n\r\n  const movePiece = (e: React.MouseEvent) => {\r\n    const chessboard = boardRef.current;\r\n\r\n    if (activePiece && chessboard) {\r\n      const minX = chessboard.offsetLeft - 10;\r\n      const minY = chessboard.offsetTop + 3;\r\n      const maxX = chessboard.offsetLeft + chessboard.offsetWidth - 65;\r\n      const maxY = chessboard.offsetTop + chessboard.offsetHeight - 83;\r\n      let x = e.clientX - 40;\r\n      let y = e.clientY - 40;\r\n      activePiece.style.position = \"absolute\";\r\n\r\n      if (x < minX) {\r\n        activePiece.style.left = `${minX}px`;\r\n      } else if (x > maxX) {\r\n        activePiece.style.left = `${maxX}px`;\r\n      } else {\r\n        activePiece.style.left = `${x}px`;\r\n      }\r\n      if (y < minY) {\r\n        activePiece.style.top = `${minY}px`;\r\n      } else if (y > maxY) {\r\n        activePiece.style.top = `${maxY}px`;\r\n      } else {\r\n        activePiece.style.top = `${y}px`;\r\n      }\r\n    }\r\n  };\r\n\r\n  const setUpdatePieces = (x: number, y: number) => {\r\n    const updatePieces = pieces.reduce((results, piece) => {\r\n      if (piece.x === gridX && piece.y === gridY) {\r\n        if (Math.abs(gridY - y) === 2 && piece.type === PieceType.PAWN) {\r\n          piece.enPassant = true;\r\n        } else {\r\n          piece.enPassant = false;\r\n        }\r\n        piece.x = x;\r\n        piece.y = y;\r\n        results.push(piece);\r\n      } else if (!(piece.x === x && piece.y === y)) {\r\n        if (piece.type === PieceType.PAWN) {\r\n          piece.enPassant = false;\r\n        }\r\n        results.push(piece);\r\n      }\r\n      return results;\r\n    }, [] as Piece[]);\r\n    return updatePieces;\r\n  };\r\n\r\n  const setUpdatePiecesForEnPassantMove = (\r\n    x: number,\r\n    y: number,\r\n    direction: number\r\n  ) => {\r\n    const updatePieces = pieces.reduce((results, piece) => {\r\n      if (piece.x === gridX && piece.y === gridY) {\r\n        piece.enPassant = false;\r\n        piece.x = x;\r\n        piece.y = y;\r\n        results.push(piece);\r\n      } else if (!(piece.x === x && piece.y === y + direction)) {\r\n        if (piece.type === PieceType.PAWN) {\r\n          piece.enPassant = false;\r\n        }\r\n        results.push(piece);\r\n      }\r\n      return results;\r\n    }, [] as Piece[]);\r\n    return updatePieces;\r\n  };\r\n\r\n  const pawnTransformation = (y: number, currentPiece: Piece) => {\r\n    if (currentPiece!.type === PieceType.PAWN && (y === 0 || y === 7)) {\r\n      const team = y === 0 ? \"w\" : \"b\";\r\n      currentPiece.type = PieceType.QUEEN;\r\n      currentPiece.image = `assets/imgs/${team}-queen.png`;\r\n    }\r\n  };\r\n\r\n  const specialForOnlineGame = async (x: number, y: number) => {\r\n    const queue = await getTurnQueue();\r\n    queue ? updateTurnQueue(false) : updateTurnQueue(true);\r\n    sendQueue(checkTurnQueue);\r\n    sendMessage(setUpdatePieces(x, y));\r\n  };\r\n\r\n  const specialForOfflineGame = async (x: number, y: number) => {\r\n    setPieces(setUpdatePieces(x, y));\r\n    checkTurnQueue ? setTurnQueue(false) : setTurnQueue(true);\r\n    setPlayer((prev) => !prev);\r\n  };\r\n\r\n  const activePieceStyles = () => {\r\n    activePiece!.style.position = \"relative\";\r\n    activePiece!.style.removeProperty(\"top\");\r\n    activePiece!.style.removeProperty(\"left\");\r\n  };\r\n\r\n  const combinedLogicForCurrentPiece = (\r\n    x: number,\r\n    y: number,\r\n    direction: number,\r\n    isEnPassantMove: boolean,\r\n    validMode: boolean,\r\n    currentPiece: Piece\r\n  ) => {\r\n    if (isEnPassantMove) {\r\n      setPieces(setUpdatePiecesForEnPassantMove(x, y, direction));\r\n    } else if (validMode) {\r\n      pawnTransformation(y, currentPiece);\r\n      if (onlineGame) {\r\n        specialForOnlineGame(x, y);\r\n      } else {\r\n        specialForOfflineGame(x, y);\r\n      }\r\n    } else {\r\n      activePieceStyles();\r\n    }\r\n  };\r\n\r\n  const dropPiece = async (e: React.MouseEvent) => {\r\n    const chessboard = boardRef.current;\r\n    if (activePiece && chessboard) {\r\n      const x = coordinate(e.clientX - chessboard.offsetLeft);\r\n      const y = coordinate(e.clientY - chessboard.offsetTop);\r\n      const currentPiece = pieces.find((p) => p.x === gridX && p.y === gridY);\r\n      if (currentPiece) {\r\n        const direction = currentPiece.team === TeamType.OUR ? 1 : -1;\r\n        activePiece.style.zIndex = \"10\";\r\n        const validMode = rules.isValidMove(\r\n          gridX,\r\n          gridY,\r\n          x,\r\n          y,\r\n          currentPiece.type,\r\n          currentPiece.team,\r\n          pieces,\r\n          currentPiece.cellColor\r\n        );\r\n        const isEnPassantMove = rules.isEnPassantMove(\r\n          gridX,\r\n          gridY,\r\n          x,\r\n          y,\r\n          currentPiece.type,\r\n          currentPiece.team,\r\n          pieces\r\n        );\r\n        combinedLogicForCurrentPiece(\r\n          x,\r\n          y,\r\n          direction,\r\n          isEnPassantMove,\r\n          validMode,\r\n          currentPiece\r\n        );\r\n      }\r\n      activePiece.style.zIndex = \"1\";\r\n      setActivePiece(null);\r\n    }\r\n  };\r\n\r\n  for (let i = 0; i < 8; i++) {\r\n    for (let j = 0; j < 8; j++) {\r\n      let id = undefined;\r\n      let image = undefined;\r\n      let number = numbers[i] + j + 1;\r\n      pieces.forEach((p) => {\r\n        if (p.x === j && p.y === i) {\r\n          id = p.id;\r\n          image = p.image;\r\n        }\r\n      });\r\n      board.push(\r\n        <Tile\r\n          key={`${i},${j}`}\r\n          image={image}\r\n          number={number}\r\n          position={`${j},${i},${id}`}\r\n          player={player}\r\n        />\r\n      );\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {/* <img src=\"\" alt=\"\" /> */}\r\n      <div className={s.chess__container}>\r\n        <div className={s.chess__letters}>\r\n          {letters.map((el, i) => (\r\n            <div key={i} className={s.chess__letter}>\r\n              {el}\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <div className={s.chess__inner}>\r\n          <div className={s.chess__numbers}>\r\n            {numbers.map((el, i) => (\r\n              <div key={i} className={s.chess__number}>\r\n                {el}\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <div\r\n            ref={boardRef}\r\n            onMouseMove={movePiece}\r\n            onMouseDown={grabPiece}\r\n            onMouseUp={dropPiece}\r\n            className={s.chess__grid}\r\n          >\r\n            {board}\r\n          </div>\r\n          <div className={s.chess__numbers__2}>\r\n            {numbers.map((el, i) => (\r\n              <div key={i} className={s.chess__number__2}>\r\n                {el}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className={s.chess__letters}>\r\n          {letters.map((el, i) => (\r\n            <div key={i} className={s.chess__letter}>\r\n              {el}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ChessField;\r\n","import { FC, useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { RootState } from \"../../../../redux\";\r\nimport { getPlayers } from \"../../../../api/server\";\r\nimport s from \"./../game.module.scss\";\r\n\r\ninterface Player {\r\n  checkWinner: boolean;\r\n  checkLoss: boolean;\r\n  id: number;\r\n  name: string;\r\n  checkMove: boolean;\r\n}\r\n\r\nconst PlayerField: FC<Player> = ({\r\n  checkWinner,\r\n  id,\r\n  name,\r\n  checkMove,\r\n  checkLoss,\r\n}) => {\r\n  const [colorOne, setColorOne] = useState(\"\");\r\n  const [colorTwo, setColorTwo] = useState(\"\");\r\n\r\n  const onlineGame = useSelector((state: RootState) => state.game.onlineGame);\r\n  const moves = useSelector((state: RootState) =>\r\n    id === 1 ? state.moves.one : state.moves.two\r\n  );\r\n\r\n  useEffect(() => {\r\n    const getColor = async () => {\r\n      if (onlineGame) {\r\n        const players = await getPlayers();\r\n        if (name === players[0].name) {\r\n          setColorOne(\"white\");\r\n          setColorTwo(\"black\");\r\n        } else {\r\n          setColorOne(\"black\");\r\n          setColorTwo(\"white\");\r\n        }\r\n      } else {\r\n        if (name === localStorage.getItem(\"player-1\")) {\r\n          setColorOne(\"white\");\r\n          setColorTwo(\"black\");\r\n        } else {\r\n          setColorOne(\"black\");\r\n          setColorTwo(\"white\");\r\n        }\r\n      }\r\n    };\r\n    getColor();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <div className={s.player__field}>\r\n        {checkWinner || checkLoss ? (\r\n          <img className={s.win__ico} src=\"assets/imgs/win-ico.svg\" alt=\"\" />\r\n        ) : (\r\n          \"\"\r\n        )}\r\n\r\n        <div\r\n          className={s.player__ava}\r\n          style={{ background: `${id === 1 ? colorTwo : colorOne}` }}\r\n        >\r\n          {name?.split(\"\")[0]}\r\n          {checkMove ? (\r\n            <img\r\n              className={s.moveHand__img}\r\n              src=\"assets/imgs/move-hand.svg\"\r\n              alt=\"\"\r\n            />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n        <div className={s.player__name}>{name}</div>\r\n        <div className={s.player__board}>\r\n          <div className={s.part__one}>\r\n            {moves.figures\r\n              .filter((el, i) => (onlineGame ? i % 2 === id - 1 : el))\r\n              .map((el, i) => (\r\n                <div\r\n                  key={i}\r\n                  className={s.figure__img}\r\n                  style={{\r\n                    backgroundImage: `url(${el})`,\r\n                  }}\r\n                ></div>\r\n              ))}\r\n          </div>\r\n          <div className={s.part__two}>\r\n            {moves.moves\r\n              .filter((el, i) => (onlineGame ? i % 2 === id - 1 : el))\r\n              .map((el, i) => (\r\n                <div key={i} className={s.move__info}>\r\n                  {el}\r\n                </div>\r\n              ))}\r\n          </div>\r\n          <div className={s.part__three}>\r\n            {moves.times\r\n              .filter((el, i) => (onlineGame ? i % 2 === id - 1 : el))\r\n              .map((el, i) => (\r\n                <div key={i} className={s.move__info}>\r\n                  {el}\r\n                </div>\r\n              ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PlayerField;\r\n","import { FC } from \"react\";\r\nimport s from \"../game.module.scss\";\r\n\r\ninterface WinnerProps {\r\n  winner: string | undefined;\r\n}\r\n\r\nconst Winner: FC<WinnerProps> = ({ winner }) => {\r\n  return (\r\n    <>\r\n      <div className={s.win__window}>{`Win ${winner}`}</div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Winner;\r\n","import { FC } from \"react\";\r\nimport s from \"./../game.module.scss\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\ninterface PreloaderProps {\r\n  waitTime: number;\r\n}\r\n\r\nconst Preloader: FC<PreloaderProps> = ({ waitTime }) => {\r\n  return (\r\n    <>\r\n      <div className={s.preloader__window}>\r\n        {waitTime !== 0 ? (\r\n          <>\r\n            <div className={s.text}>Please, expect another player...</div>\r\n            <img\r\n              className={s.preloader}\r\n              src=\"assets/imgs/preloader.gif\"\r\n              alt=\"\"\r\n            />\r\n          </>\r\n        ) : (\r\n          <>\r\n            <div className={s.text}>Timeout expired. Try again.</div>\r\n            <Link to=\"/\">\r\n              <button className={s.lobby__btn}>to lobby</button>\r\n            </Link>\r\n          </>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Preloader;\r\n","import { FC, useEffect, useState } from \"react\";\r\nimport ChessField from \"./chess-field/chess-field\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PlayerField from \"./player-field/playerField\";\r\nimport s from \"./game.module.scss\";\r\nimport { Piece } from \"../../interfaces-enums\";\r\nimport { cloneBoardState } from \"./chess-field/chessboard-state\";\r\nimport Winner from \"./helpers/winner\";\r\nimport { getPlayers, updateTurnQueue } from \"../../../api/server\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { RootState } from \"../../../redux\";\r\nimport Preloader from \"./helpers/preloader\";\r\nimport {\r\n  setMovesOne,\r\n  setMovesTwo,\r\n} from \"../../../redux/actions\";\r\nimport {\r\n  setSocket,\r\n  sendLoss,\r\n  sendPlayer,\r\n} from \"../../../api/webSocket\";\r\nimport { savedGame, savingGame, searchActualPlayer } from \"./helpers/helper\";\r\n\r\nconst Game: FC = () => {\r\n  const [pieces, setPieces] = useState<Piece[]>(cloneBoardState);\r\n  const [movesCount, setMovesCount] = useState(0);\r\n  const [waiting, setWaiting] = useState(1);\r\n  const [win, setWin] = useState(false);\r\n  const [loss, setLoss] = useState(false);\r\n  const [start, setStart] = useState(false);\r\n  const [time, setTime] = useState(\"00:00:00\");\r\n  const [player, setPlayer] = useState(false);\r\n  const [checkUpdatedMoves, setUpdatedMoves] = useState(false);\r\n  const [checkTurnQueue, setTurnQueue] = useState(false);\r\n  const [timer, setTimer] = useState(true);\r\n  const [namePlayerOne, setNamePlayerOne] = useState<string>();\r\n  const [namePlayerTwo, setNamePlayerTwo] = useState<string>();\r\n  const [actualPlayer, setActualPlayer] = useState(false);\r\n  const [boardActivator, setActiveForBoard] =\r\n    useState<React.RefObject<HTMLDivElement> | null>(null);\r\n  const onlineGame = useSelector((state: RootState) => state.game.onlineGame);\r\n  const dispatch = useDispatch();\r\n  const onlinePlayers = useSelector(\r\n    (state: RootState) => state.game.playersReady\r\n  );\r\n  let waitTime = 60;\r\n  useEffect(() => {\r\n    setSocket(setPieces, dispatch, setTurnQueue, setLoss, refreshGame);\r\n    setNamePlayerOne(localStorage.getItem(\"player-1\") as string);\r\n    setNamePlayerTwo(localStorage.getItem(\"player-2\") as string);\r\n    if (!onlineGame) {\r\n      savedGame.gamers = [\r\n        localStorage.getItem(\"player-1\") as string,\r\n        localStorage.getItem(\"player-2\") as string,\r\n      ];\r\n    }\r\n    const checkPlayers = setInterval(() => {\r\n      if (onlineGame) {\r\n        sendPlayer(true);\r\n        waitTime--;\r\n      }\r\n      if (waitTime === 0) {\r\n        clearInterval(checkPlayers);\r\n        setWaiting(0);\r\n      }\r\n    }, 1000);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (onlinePlayers) {\r\n      const getOnlinePlayers = async () => {\r\n        const players = await getPlayers();\r\n        await setNamePlayerOne(players[0].name);\r\n        await setNamePlayerTwo(players[1].name);\r\n        savedGame.gamers = [players[0].name, players[1].name];\r\n        startMatch();\r\n      };\r\n      getOnlinePlayers();\r\n    }\r\n  }, [onlinePlayers]);\r\n\r\n  window.onclick = async () => {\r\n    const players = await getPlayers();\r\n    console.log(players);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (onlinePlayers && onlineGame) {\r\n      const asyncEffect = async () => {\r\n        setActualPlayer(await searchActualPlayer());\r\n      };\r\n      asyncEffect();\r\n    }\r\n    setMovesCount((prev) => prev + 1);\r\n    savedGame.winner = checkTurnQueue;\r\n    savedGame.movesCount = movesCount;\r\n    savedGame.time = time;\r\n  }, [pieces]);\r\n\r\n  useEffect(() => {\r\n    let hours = Number(time.split(\":\")[0]);\r\n    let minutes = Number(time.split(\":\")[1]);\r\n    let seconds = Number(time.split(\":\")[2]);\r\n    let interval: NodeJS.Timeout;\r\n    if (!timer) {\r\n      interval = setInterval(() => {\r\n        if (hours < 3) {\r\n          if (minutes < 59) {\r\n            if (seconds < 59) {\r\n              seconds++;\r\n            } else {\r\n              minutes++;\r\n              seconds = 0;\r\n            }\r\n          } else {\r\n            hours++;\r\n            minutes = 0;\r\n            seconds = 0;\r\n          }\r\n        } else {\r\n          minutes = 0;\r\n          seconds = 0;\r\n        }\r\n        setTime(\r\n          `0${hours} : ${minutes > 9 ? minutes : `0${minutes}`} : ${\r\n            seconds > 9 ? seconds : `0${seconds}`\r\n          }`\r\n        );\r\n      }, 1000);\r\n    } else {\r\n      clearInterval(interval!);\r\n    }\r\n    return () => clearInterval(interval);\r\n  }, [timer, time]);\r\n\r\n  const startMatch = async () => {\r\n    updateTurnQueue(false);\r\n    setUpdatedMoves(false);\r\n    setStart(true);\r\n    setTimer(false);\r\n    setLoss(false);\r\n    setTime(\"00:00:00\");\r\n    setTurnQueue(false);\r\n    if (boardActivator) {\r\n      const board = boardActivator.current;\r\n      board!.style.pointerEvents = \"auto\";\r\n    }\r\n  };\r\n\r\n  const refreshGame = async () => {\r\n    setPieces(cloneBoardState());\r\n    setUpdatedMoves(true);\r\n    dispatch(\r\n      setMovesOne({\r\n        moves: [],\r\n        times: [],\r\n        figures: [],\r\n      })\r\n    );\r\n    dispatch(\r\n      setMovesTwo({\r\n        moves: [],\r\n        times: [],\r\n        figures: [],\r\n      })\r\n    );\r\n    setStart(false);\r\n    setWin(false);\r\n    setMovesCount(0);\r\n  };\r\n\r\n  const admitLoss = () => {\r\n    savingGame();\r\n    setLoss(true);\r\n    sendLoss(true);\r\n    refreshGame();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {onlineGame && !onlinePlayers && !loss ? (\r\n        <Preloader waitTime={waiting} />\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      {loss || win ? (\r\n        <Winner\r\n          winner={\r\n            win\r\n              ? checkTurnQueue\r\n                ? namePlayerOne\r\n                : namePlayerTwo\r\n              : !checkTurnQueue && loss\r\n              ? namePlayerTwo\r\n              : namePlayerOne\r\n          }\r\n        />\r\n      ) : null}\r\n      {!start && !win ? (\r\n        <>\r\n          {!onlineGame ? (\r\n            <button className={s.start__btn} onClick={startMatch}>\r\n              Start\r\n            </button>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          <Link to=\"/\">\r\n            <button className={s.lobby__btn} style={{ left: \"80%\" }}>\r\n              to lobby\r\n            </button>\r\n          </Link>\r\n          <Link to=\"/replays\" onClick={refreshGame}>\r\n            <button className={s.replays__btn}>replays</button>\r\n          </Link>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <div className={s.timer}>\r\n            Round Time: <b>{time}</b>\r\n          </div>\r\n          {win ? (\r\n            <>\r\n              <Link to=\"/\" onClick={refreshGame}>\r\n                <button className={s.lobby__btn}>to lobby</button>\r\n              </Link>\r\n              <Link to=\"/replays\" onClick={refreshGame}>\r\n                <button className={s.replays__btn}>replays</button>\r\n              </Link>\r\n            </>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {!win ? (\r\n            onlineGame ? (\r\n              actualPlayer ? (\r\n                <button className={s.loss__btn} onClick={admitLoss}>\r\n                  admit loss\r\n                </button>\r\n              ) : (\r\n                \"\"\r\n              )\r\n            ) : (\r\n              <button className={s.loss__btn} onClick={admitLoss}>\r\n                admit loss\r\n              </button>\r\n            )\r\n          ) : !onlineGame ? (\r\n            <button className={s.loss__btn} onClick={refreshGame}>\r\n              reset\r\n            </button>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </>\r\n      )}\r\n      <div className={s.game__container}>\r\n        <PlayerField\r\n          name={namePlayerOne as string}\r\n          id={1}\r\n          checkWinner={checkTurnQueue && win ? true : false}\r\n          checkLoss={checkTurnQueue && loss ? true : false}\r\n          checkMove={!checkTurnQueue && start ? true : false}\r\n        />\r\n        <ChessField\r\n          setWin={setWin}\r\n          setPieces={setPieces}\r\n          setActiveForBoard={setActiveForBoard}\r\n          setStart={setStart}\r\n          setPlayer={setPlayer}\r\n          setTimer={setTimer}\r\n          setTurnQueue={setTurnQueue}\r\n          checkTurnQueue={checkTurnQueue}\r\n          checkUpdatedMoves={checkUpdatedMoves}\r\n          pieces={pieces}\r\n          win={win}\r\n          player={player}\r\n          time={time}\r\n          boardActivator={boardActivator}\r\n          start={start}\r\n        />\r\n        <PlayerField\r\n          name={namePlayerTwo as string}\r\n          id={2}\r\n          checkWinner={!checkTurnQueue && win ? true : false}\r\n          checkLoss={!checkTurnQueue && loss ? true : false}\r\n          checkMove={checkTurnQueue && start ? true : false}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default Game;\r\n","import { FC, useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { db, getSavedGameIndexedDB } from \"../../../indexedDb/indexedDb\";\r\nimport { SavedGame } from \"../../interfaces-enums\";\r\nimport s from \"./replays.module.scss\";\r\n\r\nconst Replays: FC = () => {\r\n  const [gameInfo, setGameInfo] = useState<SavedGame[]>([]);\r\n\r\n  useEffect(() => {\r\n    const getInfoIndexedDb = setInterval(() => {\r\n      if (db) {\r\n        getSavedGameIndexedDB(setGameInfo);\r\n        clearInterval(getInfoIndexedDb);\r\n      }\r\n      console.log(gameInfo);\r\n    }, 1000);\r\n  }, []);\r\n  ///////\r\n  return (\r\n    <>\r\n      <Link to=\"/\">\r\n        <button className={s.lobby__btn}>to lobby</button>\r\n      </Link>\r\n      <div className={s.repeats__container}>\r\n        {gameInfo.map((el: SavedGame) => (\r\n          <div className={s.repeats__block}>\r\n            <div className={s.chess__info}>\r\n              <div className={s.name__circle}>\r\n                {el.gamers[0][0]}\r\n                {el.winner ? <div className={s.win__marker}></div> : \"\"}\r\n              </div>\r\n              <div className={s.name__circle_2}>\r\n                {el.gamers[1][0]}\r\n                {!el.winner ? <div className={s.win__marker}></div> : \"\"}\r\n              </div>\r\n              <div className={s.moves__info}>\r\n                Moves: <b>{el.movesCount}</b>\r\n              </div>\r\n              <div className={s.time__info}>\r\n                Common Time: <b>{el.time}</b>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Replays;\r\n","import { FC, useRef } from \"react\";\r\nimport { ModalProps } from \"../../interfaces-enums\";\r\nimport s from \"./start-window.module.scss\";\r\n\r\nconst ChangeNameModal: FC<ModalProps> = ({\r\n  active,\r\n  setActive,\r\n  number,\r\n  setInput,\r\n  setInput2,\r\n}) => {\r\n  const inputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const setName = () => {\r\n    setActive(false);\r\n    number === 1\r\n      ? setInput(`${inputRef.current?.value}`)\r\n      : setInput2(`${inputRef.current?.value}`);\r\n    inputRef.current!.value = \"\";\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className={active ? s.modal : s.modal__disable}>\r\n        <div className={s.modal__inner}>\r\n          <div className={s.top__text}>Change player name</div>\r\n          <div className={s.input__plus__text}>\r\n            <input type=\"text\" className={s.input} ref={inputRef} />\r\n            <div className={s.text}>Player {number}</div>\r\n          </div>\r\n          <button className={s.change__btn} onClick={setName}>\r\n            Change\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ChangeNameModal;\r\n","import { FC, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setOnlineGame, setOnlinePlayers } from \"../../../redux/actions\";\r\nimport { deletePlayer, getPlayers } from \"../../../api/server\";\r\nimport s from \"./start-window.module.scss\";\r\n\r\n\r\ninterface ModalProps {\r\n  setGameType: React.Dispatch<React.SetStateAction<string>>;\r\n  gameType: string;\r\n}\r\n\r\nconst Modal: FC<ModalProps> = ({ gameType, setGameType }) => {\r\n  const [closeModal, setCloseModal] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  window.onclick = () => {\r\n    console.log(gameType);\r\n  };\r\n  const setGame = async () => {\r\n    const players = await getPlayers();\r\n    players.forEach(async (el) => {\r\n      if (players.length > 1) {\r\n        await deletePlayer(el.id);\r\n      }\r\n      if (el.name === localStorage.getItem(\"player\")) {\r\n        await deletePlayer(el.id);\r\n      }\r\n    });\r\n    dispatch(setOnlineGame(false));\r\n    dispatch(setOnlinePlayers(false));\r\n    if (gameType !== \"\") {\r\n      setCloseModal(true);\r\n      if (gameType === \"2\") {\r\n        dispatch(setOnlineGame(true));\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className={!closeModal ? s.modal : s.modal__disable}>\r\n        <div className={s.modal__inner}>\r\n          <div className={s.top__text}>Change Game</div>\r\n          <div className={s.block__container}>\r\n            <div\r\n              className={gameType !== \"2\" ? s.inactive__type : s.active__type}\r\n              onClick={() => setGameType(\"2\")}\r\n            >\r\n              Online\r\n            </div>\r\n            <div\r\n              className={gameType !== \"1\" ? s.inactive__type : s.active__type}\r\n              onClick={() => setGameType(\"1\")}\r\n            >\r\n              Offline\r\n            </div>\r\n          </div>\r\n          <button className={s.change__game__btn} onClick={setGame}>\r\n            OK\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import { FC } from \"react\";\r\nimport { PlayerProps } from \"../../interfaces-enums\";\r\nimport s from \"./start-window.module.scss\";\r\n\r\nconst Player: FC<PlayerProps> = ({ num, name, setPlayer, setModalActive }) => {\r\n  return (\r\n    <div className={s.player__box}>\r\n      <div className={s.player__ava}></div>\r\n      <div\r\n        className={s.player__name}\r\n        onClick={() => {\r\n          setModalActive(true);\r\n          setPlayer(num);\r\n        }}\r\n      >\r\n        {name !== \"\" ? name : `Player ${num}`}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Player;\r\n","import { FC, useRef, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport s from \"./start-window.module.scss\";\r\nimport ChangeNameModal from \"./change-name-modal\";\r\nimport Modal from \"./modal-window\";\r\nimport { addPlayer, getPlayers } from \"../../../api/server\";\r\nimport Player from \"./player-element\";\r\n\r\nconst StartWindow: FC = () => {\r\n  const [playerNum, setPlayer] = useState(0);\r\n  const [modalActive, setModalActive] = useState(false);\r\n  const [modalActiveOnline, setModalActiveOnline] = useState(true);\r\n  const [inputOne, setInputOne] = useState(\"\");\r\n  const [inputTwo, setInput2] = useState(\"\");\r\n  const [inputOnline, setInputOnline] = useState(\"\");\r\n  const [gameType, setGameType] = useState(\"\");\r\n  const playerNameInput = useRef<HTMLInputElement>(null);\r\n\r\n  const setStartState = async () => {\r\n    localStorage.setItem(\r\n      \"player\",\r\n      `${inputOnline !== \"\" ? inputOnline : \"Unknown\"}`\r\n    );\r\n    localStorage.setItem(\r\n      \"player-1\",\r\n      `${inputOne !== \"\" ? inputOne : \"Player 1\"}`\r\n    );\r\n    localStorage.setItem(\r\n      \"player-2\",\r\n      `${inputTwo !== \"\" ? inputTwo : \"Player 2\"}`\r\n    );\r\n    await addPlayer();\r\n  };\r\n\r\n  const setPlayerNameOnline = async () => {\r\n    setInputOnline(`${playerNameInput.current?.value}`);\r\n    playerNameInput.current!.value = \"\";\r\n    setModalActiveOnline(false);\r\n  };\r\n  window.onclick = async () => {\r\n    const players = await getPlayers();\r\n    console.log(players);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {gameType === \"2\" ? (\r\n        <div className={modalActiveOnline ? s.modal : s.modal__disable}>\r\n          <div className={s.modal__inner}>\r\n            <div className={s.top__text_special}>Type Your Name</div>\r\n            <input className={s.input} type=\"text\" ref={playerNameInput} />\r\n            <button className={s.change__btn} onClick={setPlayerNameOnline}>\r\n              OK\r\n            </button>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      <div className={s.body__container}>\r\n        {gameType === \"1\" ? (\r\n          <Player\r\n            num={1}\r\n            name={inputOne}\r\n            setPlayer={setPlayer}\r\n            setModalActive={setModalActive}\r\n          />\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        <div className={s.btns__container}>\r\n          <Link to=\"/game\">\r\n            <button className={s.start__btn} onClick={setStartState}>\r\n              Start\r\n            </button>\r\n          </Link>\r\n          <div className={s.network__info}>\r\n            {gameType === \"2\" ? \"Online\" : \"Offline\"}\r\n          </div>\r\n          <Link to=\"/replays\">\r\n            <button className={s.view__btn}>View replays</button>\r\n          </Link>\r\n        </div>\r\n        {gameType === \"1\" ? (\r\n          <Player\r\n            num={2}\r\n            name={inputTwo}\r\n            setPlayer={setPlayer}\r\n            setModalActive={setModalActive}\r\n          />\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </div>\r\n      <Modal setGameType={setGameType} gameType={gameType} />\r\n      <ChangeNameModal\r\n        active={modalActive}\r\n        setActive={setModalActive}\r\n        number={playerNum}\r\n        setInput={setInputOne}\r\n        setInput2={setInput2}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default StartWindow;\r\n","import { FC } from \"react\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport Game from \"./game/game\";\r\nimport Replays from \"./replays/replays\";\r\nimport StartWindow from \"./start-window/start-window\";\r\n\r\nconst Body: FC = () => {\r\n  return (\r\n    <>\r\n      <Router>\r\n        <Switch>\r\n          <Route path=\"/game\">\r\n            <Game />\r\n          </Route>\r\n          <Route path=\"/replays\">\r\n            <Replays />\r\n          </Route>\r\n          <Route path=\"/\">\r\n            <StartWindow />\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Body;\r\n","import { FC } from \"react\";\r\nimport s from \"./footer.module.scss\";\r\n\r\nconst Footer: FC = () => {\r\n  return (\r\n    <div className={s.footer__container}>\r\n      <div>Rabushko Oleg© - RS School 2021</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React from \"react\";\nimport Header from \"./components/header/header\";\nimport Body from \"./components/body/body\";\nimport Footer from \"./components/footer/footer\";\n\nimport \"./App.scss\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Header />\n      <Body />\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {\r\n  OnlineGameProps,\r\n  GameState,\r\n  OnlinePlayersProps,\r\n  MoveDeskProps,\r\n  MovesState,\r\n  MoveDTO,\r\n  Move,\r\n} from \"./redux-types\";\r\nimport {\r\n  ADD_MOVE_ONE,\r\n  ADD_MOVE_TWO,\r\n  SET_GAME,\r\n  SET_MOVES_ONE,\r\n  SET_MOVES_TWO,\r\n  SET_ONLINE_PLAYERS,\r\n} from \"./actions\";\r\n\r\nconst initialState: GameState = {\r\n  onlineGame: false,\r\n  playersReady: false,\r\n};\r\n\r\nexport function gameReducer(\r\n  state: GameState = initialState,\r\n  action: OnlineGameProps | OnlinePlayersProps\r\n) {\r\n  switch (action.type) {\r\n    case SET_GAME:\r\n      return { ...state, onlineGame: action.payload };\r\n    case SET_ONLINE_PLAYERS:\r\n      return { ...state, playersReady: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nconst initialMovesState: MovesState = {\r\n  one: {\r\n    moves: [],\r\n    times: [],\r\n    figures: [],\r\n  },\r\n  two: {\r\n    moves: [],\r\n    times: [],\r\n    figures: [],\r\n  },\r\n};\r\n\r\nexport function moveDesksReducer(\r\n  state: MovesState = initialMovesState,\r\n  action: MoveDeskProps\r\n) {\r\n  const payload = action.payload as MoveDTO;\r\n\r\n  switch (action.type) {\r\n    case SET_MOVES_ONE:\r\n      return { ...state, one: action.payload as Move };\r\n    case SET_MOVES_TWO:\r\n      return { ...state, two: action.payload as Move };\r\n    case ADD_MOVE_ONE:\r\n      return {\r\n        ...state,\r\n        one: {\r\n          moves: [...state.one.moves, payload.move],\r\n          times: [...state.one.times, payload.time],\r\n          figures: [...state.one.figures, payload.url],\r\n        },\r\n      };\r\n    case ADD_MOVE_TWO:\r\n      return {\r\n        ...state,\r\n        two: {\r\n          moves: [...state.two.moves, payload.move],\r\n          times: [...state.two.times, payload.time],\r\n          figures: [...state.two.figures, payload.url],\r\n        },\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers, createStore, applyMiddleware } from \"redux\";\r\nimport { gameReducer, moveDesksReducer } from \"./reducers\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nconst rootReducer = combineReducers({\r\n  game: gameReducer,\r\n  moves: moveDesksReducer,\r\n});\r\n\r\nexport type RootState = ReturnType<typeof rootReducer>;\r\n\r\nexport const store = createStore(\r\n  rootReducer,\r\n  composeWithDevTools(applyMiddleware(thunk))\r\n);\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { Provider } from \"react-redux\";\nimport { store } from \"./redux\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"chess-field_App__VhmWz\",\"green\":\"chess-field_green__2KY8i\",\"chess__container\":\"chess-field_chess__container__1LIKd\",\"chess__letters\":\"chess-field_chess__letters__1K7XC\",\"chess__letter\":\"chess-field_chess__letter__LX7q3\",\"chess__inner\":\"chess-field_chess__inner__1s_RB\",\"chess__numbers\":\"chess-field_chess__numbers__1eqo-\",\"chess__numbers__2\":\"chess-field_chess__numbers__2__3BaI5\",\"chess__number\":\"chess-field_chess__number__2EnBt\",\"chess__number__2\":\"chess-field_chess__number__2__3x098\",\"chess__grid\":\"chess-field_chess__grid__2XuVj\",\"white__field\":\"chess-field_white__field__12J6w\",\"black__field\":\"chess-field_black__field__3wS7w\",\"figure__img\":\"chess-field_figure__img__20vFt\"};"],"sourceRoot":""}